10 REM Bubble Trouble
11 REM Sega Computer 08.1986, p. 26
20 REM by Aaron Boulton
40 REM Auckland, 1986
50 REM
60 GOSUB 400
70 SCREEN2,2:CLS:MAG0:COLOR1,1,(0,0)-(255,191),1:COLOR,12,(0,150)-(255,191)
80 Z=0:Z=1:W=30:B=60:SC=0:E=3:R=0:LINE(0,150)-(255-150),1
90 LINE(47,152)-(218,164),15,B
100 CURSOR50,155:COLOR1:PRINTCHR$(17);"BUBBLE TROUBLE";CHR$(16)
110 FORSA=110TO1000STEP40:SOUND1,SA,15:SOUND0,1,SA,15:NEXT:SOUND0:BLINE(0,0)-(255,149),,BF:GOSUB250
120 SC=SC+T*10:CURSOR66,170:PRINTCHR$(5)
130 COLOR1:CURSOR30,170:PRINT"SCORE:";:COLOR15:PRINTSC:COLOR1:CURSOR30,180:PRINT"TIME" :";:COLOR15:PRINTT
140 D=0:X=5:Y=R:Z=Z+1:T=100:IFZ>ETHENE=E+3:W=E-2
150 IFT<1THEN290
160 IFA$=CHR$(30)THENY=Y-3
170 IFA$=CHR$(31)THENY=Y+3
180 IFA$=CHR$(28)THENX=X+3
190 IFA$=CHR$(29)THENX=X-1
200 T=T-1:X=X+.5:Y=Y+.5:PATTERNS#0,"387CEEF6F6FE7C38":SPRITE0,(X,Y),0,15:A$=INKEY$
210 CURSOR66,180:PRINTCHR$(5);T
220 IFVPEEK(INT((Y+4)/8)*256+INT((X+4)/8)*8+YMOD8)>0THEN320
230 PATTERNS#0,"3C7EF7FBFB7E3C00":IFX>246THENZ=Z+1:SPRITE0,,0,0:GOTO110
240 GOTO150
250 R=B+5:FORA=0TO255STEP50:FORQ=0TO3:LINE(A,B+Q)-(A+55,B+D+Q),15:LINE(A,(B+W-Q))-(A+55,B+W+D),15:LINE(A,(B+W-Q)
260 IFB+D<2THENB=2:D=0
270 IFB+D>115THENB=115:D=0
280 NEXT:RETURN
290 PAINT(0,R),4
300 ER=15:OUT127,228:FORX=240TO255STEP3:OUT127,X:SOUND5,2,ER:ER=ER-3:NEXT:SOUND0
310 CURSOR30,140:COLOR15:PRINT"THE WATER DESTROYED YOUR BUBBLE":GOTO330
320 ER=15:OUT127,228:FORX=240TO255STEP3:OUT127,X:SOUND5,1,ER:ER=ER-3:NEXT:SOUND0
330 PATTERNS#0,"91520003C0004A89":FORER=1TO125:NEXT:SPRITE0,,0,0
340 BLINE(60,50)-(140,80),,BF:COLOR,15,(60,50)-(140,80):COLOR1
350 CURSOR65,53:PRINT"ANOTHER GO?":CURSOR65,70:PRINT"(Y/N)"
360 IFINKEY$=""THEN360
370 IFINKEY$="N"THENEND
380 IFINKEY$="Y"THEN70
390 GOTO360
400 CLS:PRINT:PRINT
420 COLOR4
430 PRINT"     B U B B L E  T R O U B L E"
440 PRINT"     -----------  -------------"
470 PRINT:PRINT
480 PRINT"You are one of those helpless little"
490 PRINT"Bubbles floating around in one of the"
500 PRINT"Worlds many pipelines. You must "
510 PRINT"complete each pipeline before the"
520 PRINT"time limit is up, or else you will":PRINT"get washed away."
530 PRINT:PRINT"Use the cursor keys to move your":PRINT "Bubble."
540 PRINT  :PRINT  :PRINT"      ANY KEY CONTINUES"
550 IFKEY$=""THEN550
560 RETURN